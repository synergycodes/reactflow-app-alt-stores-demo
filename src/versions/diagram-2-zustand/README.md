Based on: https://reactflow.dev/learn/advanced-use/state-management
